!function t(n,e,o){function r(i,d){if(!e[i]){if(!n[i]){var s="function"==typeof require&&require;if(!d&&s)return s(i,!0);if(a)return a(i,!0);throw new Error("Cannot find module '"+i+"'")}var u=e[i]={exports:{}};n[i][0].call(u.exports,function(t){var e=n[i][1][t];return r(e?e:t)},u,u.exports,t,n,e,o)}return e[i].exports}for(var a="function"==typeof require&&require,i=0;i<o.length;i++)r(o[i]);return r}({1:[function(t,n,e){!function(){"use strict";function t(t,n,e,o,r){function a(){o.get("./data/lang.json").then(function(t){r.countryLang=t.data})}function i(t){t in s?(n.page=s[t],r.updateLang(t,s[t],u[t])):o.get("./data/"+t+"Data.json").then(function(e){o.get("./data/"+t+".json").then(function(o){n.page=o.data,r.updateLang(t,n.page,e.data),s[t]=o.data,u[t]=e.data})})}function d(){i(t.selectedLang)}t.languages={"Chinese - Traditional":"tw",English:"en"},t.selectedLang="tw",t.changeLanguage=d,n.page={};var s={},u={};a(),i(t.selectedLang)}n.exports=t}()},{}],2:[function(t,n,e){!function(){"use strict";function n(t){$("section.panel").hide(),$(t).show()}function e(t){$(t).hide()}window.showInfo=n,window.hideInfo=e;{var o=t("./controller/textController");angular.module("myApp",["ngRoute"]).controller("TextController",o)}o.$inject=["$scope","$rootScope","$location","$http","mapService"],t("./service/mapService")}()},{"./controller/textController":1,"./service/mapService":3}],3:[function(t,n,e){!function(){"use strict";function t(t){function n(){m=new L.Map("map");var t="http://{s}.tile.thunderforest.com/transport/{z}/{x}/{y}.png",n='&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',e=new L.TileLayer(t,{minZoom:2,maxZoom:16,attribution:n,continuousWorld:!0});m.setView(new L.LatLng(50,15),2),e.addTo(m),m.on("popupopen",function(t){$(".leaflet-top").hide(),$(".leaflet-bottom").hide(),$(".penguin").hide()}),m.on("popupclose",function(t){$(".leaflet-top").show(),$(".leaflet-bottom").show(),$(".penguin").show()})}function e(t,n,e){h.page=n,h.data=e,h.lang=t,w&&(m.removeLayer(b),m.removeControl(y),m.removeControl(v),v=L.control({position:"bottomleft"}),y=L.control(),y.update=g),o(),y.onAdd=p,y.addTo(m),v.onAdd=f,v.addTo(m)}function o(){w?(b=r(w),b.addTo(m)):t.get("./data/countries.geo.topo.json").then(function(t){w=t.data,b=r(w),b.addTo(m)})}function r(t){var n;for(var e in t.objects)n=topojson.feature(t,t.objects[e]);return L.geoJson(n,{style:a,onEachFeature:d})}function a(t){return{fillColor:i(t),weight:2,opacity:1,color:"#eee",dashArray:"",fillOpacity:.55}}function i(t){return t.properties.name in h.data?"#B50000":"#D5D5D5"}function d(t,n){n.on({mouseover:c,mouseout:u,click:l}),s(t,n)}function s(t,n){var e=t.properties.name,o=h.countryLang[e]&&h.countryLang[e][h.lang]?h.countryLang[e][h.lang]:e;if(e in h.data)if("en"==h.lang)n.bindPopup("<h2>"+o+'</h2><table class="table table-condensed"><tbody><tr><td><strong>INDC summary</strong></td><td>'+h.data[e].INDCsummary+"</td></tr><tr><td><strong>INDC type</strong></td><td>"+h.data[e].INDCtype+"</td></tr><tr><td><strong>GHG target type</strong></td><td>"+h.data[e].GHGtarget+"</td></tr><tr><td><strong>Link to the submission</strong></td><td>"+h.data[e].Linkto+"</td></tr><tr><td><strong>Source</strong></td><td>WRI, CAIT 2.0. 2015. CAIT Paris Contributions Map. Washington, DC: World Resources Institute. Available at: http://cait2.wri.org/indcs/</td></tr></tbody></table>",{minWidth:500});else{var r="<h2>"+o+'</h2><table class="table table-condensed"><tbody>';for(var a in h.data[e])r=r+"<tr><td><strong>"+a+"</strong></td><td>"+h.data[e][a]+"</td></tr>";n.bindPopup(r+"<tr><td><strong>Source</strong></td><td>WRI, CAIT 2.0. 2015. CAIT Paris Contributions Map. Washington, DC: World Resources Institute. Available at: http://cait2.wri.org/indcs/</td></tr></tbody></table>",{minWidth:500})}else n.bindPopup("<h2>"+o+"</h2><p>"+h.page.unsubmitted+"</p>")}function u(t){b.resetStyle(t.target),y.update()}function c(t){var n=t.target;n.setStyle({weight:2,color:"#666",dashArray:"",fillOpacity:.7}),L.Browser.ie||L.Browser.opera||n.bringToFront(),y.update(n.feature.properties)}function l(t){y.update(t.target.feature.properties)}function p(){return this._div=L.DomUtil.create("div","info"),this._div.innerHTML="<h4>"+h.page.selectCountry+"</h4>",this._div}function g(t){if(t){var n=h.countryLang[t.name][h.lang];this._div.innerHTML=n?"<h4>"+n+"</h4>":"<h4>"+t.name+"</h4>"}else this._div.innerHTML="<h4>"+h.page.selectCountry+"</h4>"}function f(){for(var t=L.DomUtil.create("div","info legend"),n=["#D5D5D5","#B50000"],e=0;e<h.page.labels.length;e++)t.innerHTML+='<i style="background:'+n[e]+'"></i>'+h.page.labels[e]+"<br/>";return t}var h=this;h.updateLang=e;{var m,v=L.control({position:"bottomleft"}),y=L.control(),b={},w="";L.icon({iconUrl:"./img/tree.png",iconSize:[30,35],iconAnchor:[17,42],popupAnchor:[0,-35]})}return y.update=g,n(),this}n.exports=angular.module("myApp").factory("mapService",t),t.$inject=["$http"]}()},{}]},{},[2]);